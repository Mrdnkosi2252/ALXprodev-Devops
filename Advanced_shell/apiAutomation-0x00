#!/bin/bash

# URL for Pikachu data from PokÃ©mon API
POKEAPI_URL="https://pokeapi.co/api/v2/pokemon/pikachu"
OUTPUT_FILE="data.json"
ERROR_FILE="errors.txt"

# Make API request and handle response
curl -s -o "$OUTPUT_FILE" "$POKEAPI_URL" 2>> "$ERROR_FILE"

# Check if request was successful
if [ $? -eq 0 ]; then
    # Verify if data.json is not empty
    if [ -s "$OUTPUT_FILE" ]; then
        echo "Successfully retrieved Pikachu data and saved to $OUTPUT_FILE"
    else
        echo "Error: No data received from API" >> "$ERROR_FILE"
        exit 1
    fi
else
    echo "Failed to retrieve Pikachu data from API" >> "$ERROR_FILE"
    exit 1
fi